{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}
    ðŸ‘‹ Welcome, {{ user.firstName }} {{ user.lastName }}
{% endblock %}

{% block main %}
    <div class="ea-content">
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Profile Details</h5>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Email:</strong> {{ user.email }}</li>
                    <li class="list-group-item"><strong>First Name:</strong> {{ user.firstName }}</li>
                    <li class="list-group-item"><strong>Last Name:</strong> {{ user.lastName }}</li>
                    <li class="list-group-item"><strong>Roles:</strong> {{ user.roles|join(', ') }}</li>
                    <li class="list-group-item"><strong>Current consumption:</strong> {{ consumptionKwh }}</li>
                </ul>
            </div>
        </div>
        <div class="col-12">
            <h5 class="card-title">Energy Usage (Last 7 Days)</h5>
            <div data-controller="energy-chart"
                 data-energy-chart-chart-value='{{ chartData|json_encode }}'
                 class="position-relative"
            >
                <canvas data-energy-chart-target="canvas" class="w-100" style="height: 400px;"></canvas>
            </div>
        </div>
    </div>
{% endblock %}

{% block body_javascript %}
    {{ parent() }}
    {{ encore_entry_script_tags('app') }}
{% endblock %}


