{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}
{% endblock %}


{% block content_top_header %}
    <div class="w-100 d-block d-md-flex align-items-center pe-md-5">
        <div>
            <h1 class="fs-5">SmartMeter Reads Consumption / month</h1>
        </div>
        <div class="d-flex flex-wrap align-items-center gap-2 ps-md-5">
            <div class="d-flex align-items-center gap-2">
                <label for="start-date" class="col-form-label me-2">From:</label>
                <input type="date"
                       id="start-date"
                       class="form-control form-control-sm rounded-2"
                       value="{{ startDate is defined ? startDate|date('Y-m-d') : ('now'|date_modify('-6 months')|date('Y-m-d')) }}">
                <label for="end-date" class="col-form-label me-2">To:</label>
                <input type="date"
                       id="end-date"
                       class="form-control form-control-sm rounded-2"
                       value="{{ endDate is defined ? endDate|date('Y-m-d') : ('now'|date('Y-m-d')) }}">
                <button id="filter-btn"
                        class="btn btn-sm px-2 fs-7 btn-primary ms-3 shadow-sm"
                >
                    Show
                </button>
            </div>
        </div>
    </div>

    {{ parent() }}
{% endblock %}


{% block main %}
    <div class="ea-content">
        <div class="col-12">
            <div data-controller="monthly-energy-usage"
                 data-monthly-energy-usage-chart-value="{{ chartData|json_encode|e('html_attr') }}"
                 class="position-relative"
            >
                <canvas data-monthly-energy-usage-target="canvas" class="w-100"></canvas>
            </div>
        </div>
    </div>
{% endblock %}

{% block body_javascript %}
    {{ parent() }}
    {{ encore_entry_script_tags('app') }}
{% endblock %}


